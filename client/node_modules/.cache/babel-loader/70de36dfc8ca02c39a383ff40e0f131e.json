{"ast":null,"code":"function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nexport var CACHE_PREFIX = 'react-avatar/';\nexport var CACHE_KEY_FAILING = 'failing';\n\nvar _hasLocalStorage = function isLocalStorageAvailable() {\n  try {\n    return 'localStorage' in window && window['localStorage'];\n  } catch (err) {\n    return false;\n  }\n}();\n\nexport var Cache = /*#__PURE__*/function () {\n  function Cache() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Cache);\n\n    var _options$cachePrefix = options.cachePrefix,\n        cachePrefix = _options$cachePrefix === void 0 ? CACHE_PREFIX : _options$cachePrefix,\n        _options$sourceTTL = options.sourceTTL,\n        sourceTTL = _options$sourceTTL === void 0 ? 7 * 24 * 3600 * 1000 : _options$sourceTTL,\n        _options$sourceSize = options.sourceSize,\n        sourceSize = _options$sourceSize === void 0 ? 20 : _options$sourceSize;\n    this.cachePrefix = cachePrefix;\n    this.sourceTTL = sourceTTL;\n    this.sourceSize = sourceSize;\n  }\n\n  _createClass(Cache, [{\n    key: \"set\",\n    value: function set(key, value) {\n      // cache not available\n      if (!_hasLocalStorage) return;\n      value = JSON.stringify(value);\n\n      try {\n        localStorage.setItem(this.cachePrefix + key, value);\n      } catch (e) {\n        // failsafe for mobile Safari private mode\n        console.error(e); // eslint-disable-line no-console\n      }\n    }\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      // cache not available\n      if (!_hasLocalStorage) return null;\n      var value = localStorage.getItem(this.cachePrefix + key);\n      if (value) return JSON.parse(value);\n      return null;\n    }\n  }, {\n    key: \"sourceFailed\",\n    value: function sourceFailed(source) {\n      var cacheList = this.get(CACHE_KEY_FAILING) || []; // Remove expired entries or previous instances of this source\n\n      cacheList = cacheList.filter(function (entry) {\n        var hasExpired = entry.expires > 0 && entry.expires < Date.now();\n        var isMatch = entry === source || entry.url == source;\n        return !hasExpired && !isMatch;\n      }); // Add the source to the end of the list\n\n      cacheList.unshift({\n        url: source,\n        expires: Date.now() + this.sourceTTL\n      }); // only keep the last X results so we don't fill up local storage\n\n      cacheList = cacheList.slice(0, this.sourceSize - 1);\n      return this.set(CACHE_KEY_FAILING, cacheList);\n    }\n  }, {\n    key: \"hasSourceFailedBefore\",\n    value: function hasSourceFailedBefore(source) {\n      var cacheList = this.get(CACHE_KEY_FAILING) || [];\n      return cacheList.some(function (entry) {\n        var hasExpired = entry.expires > 0 && entry.expires < Date.now();\n        var isMatch = entry === source || entry.url == source;\n        return isMatch && !hasExpired;\n      });\n    }\n  }]);\n\n  return Cache;\n}();\nexport default new Cache();","map":{"version":3,"sources":["C:/Users/david/react/RateCourses/client/node_modules/react-avatar/es/cache.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","CACHE_PREFIX","CACHE_KEY_FAILING","_hasLocalStorage","isLocalStorageAvailable","window","err","Cache","options","arguments","undefined","_options$cachePrefix","cachePrefix","_options$sourceTTL","sourceTTL","_options$sourceSize","sourceSize","value","set","JSON","stringify","localStorage","setItem","e","console","error","get","getItem","parse","sourceFailed","source","cacheList","filter","entry","hasExpired","expires","Date","now","isMatch","url","unshift","slice","hasSourceFailedBefore","some"],"mappings":"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","sourcesContent":["import \"core-js/modules/es.array.filter\";\nimport \"core-js/modules/es.array.slice\";\nimport \"core-js/modules/es.array.some\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nexport var CACHE_PREFIX = 'react-avatar/';\nexport var CACHE_KEY_FAILING = 'failing';\n\nvar _hasLocalStorage = function isLocalStorageAvailable() {\n  try {\n    return 'localStorage' in window && window['localStorage'];\n  } catch (err) {\n    return false;\n  }\n}();\n\nexport var Cache = /*#__PURE__*/function () {\n  function Cache() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Cache);\n\n    var _options$cachePrefix = options.cachePrefix,\n        cachePrefix = _options$cachePrefix === void 0 ? CACHE_PREFIX : _options$cachePrefix,\n        _options$sourceTTL = options.sourceTTL,\n        sourceTTL = _options$sourceTTL === void 0 ? 7 * 24 * 3600 * 1000 : _options$sourceTTL,\n        _options$sourceSize = options.sourceSize,\n        sourceSize = _options$sourceSize === void 0 ? 20 : _options$sourceSize;\n    this.cachePrefix = cachePrefix;\n    this.sourceTTL = sourceTTL;\n    this.sourceSize = sourceSize;\n  }\n\n  _createClass(Cache, [{\n    key: \"set\",\n    value: function set(key, value) {\n      // cache not available\n      if (!_hasLocalStorage) return;\n      value = JSON.stringify(value);\n\n      try {\n        localStorage.setItem(this.cachePrefix + key, value);\n      } catch (e) {\n        // failsafe for mobile Safari private mode\n        console.error(e); // eslint-disable-line no-console\n      }\n    }\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      // cache not available\n      if (!_hasLocalStorage) return null;\n      var value = localStorage.getItem(this.cachePrefix + key);\n      if (value) return JSON.parse(value);\n      return null;\n    }\n  }, {\n    key: \"sourceFailed\",\n    value: function sourceFailed(source) {\n      var cacheList = this.get(CACHE_KEY_FAILING) || []; // Remove expired entries or previous instances of this source\n\n      cacheList = cacheList.filter(function (entry) {\n        var hasExpired = entry.expires > 0 && entry.expires < Date.now();\n        var isMatch = entry === source || entry.url == source;\n        return !hasExpired && !isMatch;\n      }); // Add the source to the end of the list\n\n      cacheList.unshift({\n        url: source,\n        expires: Date.now() + this.sourceTTL\n      }); // only keep the last X results so we don't fill up local storage\n\n      cacheList = cacheList.slice(0, this.sourceSize - 1);\n      return this.set(CACHE_KEY_FAILING, cacheList);\n    }\n  }, {\n    key: \"hasSourceFailedBefore\",\n    value: function hasSourceFailedBefore(source) {\n      var cacheList = this.get(CACHE_KEY_FAILING) || [];\n      return cacheList.some(function (entry) {\n        var hasExpired = entry.expires > 0 && entry.expires < Date.now();\n        var isMatch = entry === source || entry.url == source;\n        return isMatch && !hasExpired;\n      });\n    }\n  }]);\n\n  return Cache;\n}();\nexport default new Cache();"]},"metadata":{},"sourceType":"module"}
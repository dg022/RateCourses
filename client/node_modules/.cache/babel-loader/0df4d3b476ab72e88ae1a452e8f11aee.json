{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\david\\\\react\\\\RateCourses\\\\client\\\\src\\\\Components\\\\Delete.js\";\nimport React, { Component } from 'react';\nimport { Button, Modal, TextArea, Form } from 'semantic-ui-react';\nimport Input from \"./Input\";\nimport \"./Edit.css\";\nimport axios from \"axios\";\nimport Forms from \"./Form\";\n\nvar validator = require(\"email-validator\");\n\nvar swearjar = require('swearjar-extended');\n\nclass ModalExampleCloseConfig extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      open: false,\n      message: false,\n      code: \"\",\n      id: this.props.id,\n      error: 0,\n      send: false\n    };\n\n    this.SendEmail = async () => {\n      let res = await axios.get('/findid', {\n        params: {\n          courseTitle: this.props.Title,\n          id: this.state.id\n        }\n      });\n      console.log(\"email would have sent\"); //const templateId = 'template_swHMraBb';\n      //this.sendFeedback(templateId, {message_html: this.state.id, from_name: \"David\", reply_to: res.data})\n\n      this.setState({\n        sent: true\n      }); // Here you need to send some kind of message, so that it says \"email sent sucessfully\"\n    };\n\n    this.codeChange = codeType => {\n      this.setState({\n        code: codeType\n      });\n    };\n\n    this.closeConfigShow = (closeOnEscape, closeOnDimmerClick) => () => {\n      this.setState({\n        closeOnEscape,\n        closeOnDimmerClick,\n        open: true\n      });\n    };\n\n    this.ResetProfanity = () => {\n      this.setState({\n        Profanity: false\n      });\n    };\n\n    this.close = () => this.setState({\n      open: false,\n      message: false,\n      error: 0\n    });\n\n    this.Submitclose = async () => {\n      if (this.state.code == this.props.id) {\n        this.setState({\n          message: true\n        }); // Here is where you want to send a respond\n\n        let res = await axios.get('/delete', {\n          params: {\n            courseTitle: this.props.Title,\n            id: this.state.id\n          }\n        });\n        this.props.deleted();\n      } else {\n        // Here you need to add logic to make it display some kind of error\n        this.setState({\n          error: 1\n        });\n      }\n    };\n\n    this.renderButton = () => {\n      if (this.state.message) {\n        // This is when the person put thir code, and it works, we dont need a button here\n        return;\n      }\n\n      if (!this.state.message) {\n        return /*#__PURE__*/React.createElement(Modal.Actions, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          onClick: this.Submitclose,\n          positive: true,\n          labelPosition: \"right\",\n          icon: \"checkmark\",\n          content: \"Submit\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 9\n          }\n        }), /*#__PURE__*/React.createElement(Button, {\n          onClick: this.SendEmail,\n          yellow: true,\n          labelPosition: \"right\",\n          icon: \"question circle outline\",\n          content: \"Forgot Code?\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 5\n          }\n        }));\n      }\n    };\n\n    this.renderModal = () => {\n      if (this.state.message) {\n        return /*#__PURE__*/React.createElement(Modal.Content, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Modal.Content, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 21\n          }\n        }, \"Your post has been deleted\"));\n      }\n\n      if (this.state.open) {\n        return /*#__PURE__*/React.createElement(Modal.Content, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(Form, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"center\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(Input, {\n          error: this.state.error,\n          codeChange: this.codeChange,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 9\n          }\n        }))));\n      }\n    };\n  }\n\n  render() {\n    const {\n      open,\n      closeOnEscape,\n      closeOnDimmerClick\n    } = this.state;\n\n    if (this.props.on == true) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        onClick: this.closeConfigShow(false, true),\n        class: \"  large trash alternate outline icon large\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(Modal, {\n        className: \"edit\",\n        open: open,\n        closeOnEscape: closeOnEscape,\n        closeOnDimmerClick: closeOnDimmerClick,\n        onClose: this.close,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Modal.Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 21\n        }\n      }, \"  \", /*#__PURE__*/React.createElement(\"center\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 37\n        }\n      }, \" Delete Post: Provide Edit Code! \"), \" \"), this.renderModal(), this.renderButton()));\n    }\n\n    return /*#__PURE__*/React.createElement(\"i\", {\n      class: \" large trash alternate icon large  \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 7\n      }\n    });\n  }\n\n}\n\nexport default ModalExampleCloseConfig;","map":{"version":3,"sources":["C:/Users/david/react/RateCourses/client/src/Components/Delete.js"],"names":["React","Component","Button","Modal","TextArea","Form","Input","axios","Forms","validator","require","swearjar","ModalExampleCloseConfig","state","open","message","code","id","props","error","send","SendEmail","res","get","params","courseTitle","Title","console","log","setState","sent","codeChange","codeType","closeConfigShow","closeOnEscape","closeOnDimmerClick","ResetProfanity","Profanity","close","Submitclose","deleted","renderButton","renderModal","render","on"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Button, Modal, TextArea, Form } from 'semantic-ui-react'\r\nimport Input from \"./Input\"\r\nimport \"./Edit.css\";\r\nimport axios from \"axios\"\r\nimport Forms from \"./Form\"\r\nvar validator = require(\"email-validator\");\r\nvar swearjar = require('swearjar-extended');\r\n\r\nclass ModalExampleCloseConfig extends Component {\r\n  state = { \r\n      open: false,\r\n      message:false,\r\n      code:\"\",\r\n      id:this.props.id,\r\n      error:0, \r\n      send: false, \r\n\r\n\r\n}\r\n\r\n\r\nSendEmail = async () => {\r\n  \r\n \r\n  \r\n    let res = await axios.get('/findid', {\r\n      params: {\r\n        courseTitle: this.props.Title,\r\n        id:this.state.id\r\n    }});\r\n\r\n    console.log(\"email would have sent\")\r\n    //const templateId = 'template_swHMraBb';\r\n    //this.sendFeedback(templateId, {message_html: this.state.id, from_name: \"David\", reply_to: res.data})\r\n\r\n    this.setState({sent:true})\r\n    // Here you need to send some kind of message, so that it says \"email sent sucessfully\"\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  codeChange  = (codeType) =>{\r\n\r\n    this.setState({code:codeType})\r\n\r\n  } \r\n\r\n  closeConfigShow = (closeOnEscape, closeOnDimmerClick) => () => {\r\n    this.setState({ closeOnEscape, closeOnDimmerClick, open: true })\r\n  }\r\n\r\n  ResetProfanity = () =>{\r\n\r\n    this.setState({Profanity:false})\r\n\r\n  }\r\n\r\n  close = () => this.setState({ open: false, message:false, error:0})\r\n  Submitclose =  async () => {\r\n  \r\n \r\n        if(this.state.code == this.props.id){\r\n        this.setState({ message:true })\r\n        // Here is where you want to send a respond\r\n        \r\n        let res = await axios.get('/delete', {\r\n            params: {\r\n              courseTitle: this.props.Title,\r\n              id:this.state.id\r\n          }});\r\n\r\n          this.props.deleted();\r\n        \r\n         \r\n\r\n\r\n        }else{\r\n\r\n            // Here you need to add logic to make it display some kind of error\r\n            this.setState({error:1})\r\n        }\r\n  }\r\n\r\n  renderButton=()=>{\r\n\r\n    if(this.state.message){\r\n        // This is when the person put thir code, and it works, we dont need a button here\r\n        return;\r\n      \r\n\r\n    }\r\n\r\n    if(!this.state.message){\r\n        return(\r\n        <Modal.Actions>\r\n              \r\n        <Button\r\n        onClick={this.Submitclose}\r\n        positive\r\n        labelPosition='right'\r\n        icon='checkmark'\r\n        content='Submit'\r\n        />\r\n    \r\n    <Button\r\n        onClick={this.SendEmail}\r\n        yellow\r\n        labelPosition='right'\r\n        icon='question circle outline'\r\n        content='Forgot Code?'\r\n        />\r\n\r\n  \r\n\r\n\r\n    </Modal.Actions>\r\n        );\r\n    }\r\n\r\n    \r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  renderModal =  () =>{\r\n\r\n\r\n\r\n    if(this.state.message){\r\n\r\n     \r\n\r\n      return(\r\n\r\n\r\n            <Modal.Content>\r\n                    <Modal.Content>\r\n\r\n                    Your post has been deleted \r\n\r\n                    </Modal.Content>\r\n            </Modal.Content>\r\n    \r\n    \r\n        );\r\n\r\n    }\r\n\r\n\r\n\r\n    if(this.state.open){\r\n    return(\r\n\r\n        <Modal.Content>\r\n\r\n        <Form>\r\n\r\n        <center>\r\n        <Input  error={this.state.error } codeChange={this.codeChange}/>\r\n        </center>\r\n       \r\n\r\n        </Form>\r\n\r\n        </Modal.Content>\r\n\r\n\r\n\r\n    );\r\n    }\r\n\r\n   \r\n\r\n  }\r\n\r\n  render() {\r\n    const { open, closeOnEscape, closeOnDimmerClick } = this.state\r\n\r\n    \r\n\r\n\r\n\r\n    if(this.props.on == true){\r\n\r\n\r\n\r\n    return(\r\n\r\n                <div>\r\n                    <i onClick={this.closeConfigShow(false, true)}   class=\"  large trash alternate outline icon large\"></i>\r\n                \r\n                    <Modal className=\"edit\"\r\n                    open={open}\r\n                    closeOnEscape={closeOnEscape}\r\n                    closeOnDimmerClick={closeOnDimmerClick}\r\n                    onClose={this.close}\r\n                    >\r\n                    <Modal.Header>  <center> Delete Post: Provide Edit Code! </center> </Modal.Header>\r\n                   {this.renderModal()}\r\n                \r\n                   {this.renderButton()}\r\n\r\n                    </Modal>\r\n\r\n                </div>\r\n                );\r\n            }\r\n\r\n                return(\r\n\r\n                   \r\n                    \r\n      <i class=\" large trash alternate icon large  \"></i>\r\n                );\r\n  }\r\n}\r\n\r\nexport default ModalExampleCloseConfig\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\david\\\\react\\\\RateCourses\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\david\\\\react\\\\RateCourses\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\david\\\\react\\\\RateCourses\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\david\\\\react\\\\RateCourses\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\david\\\\react\\\\RateCourses\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\david\\\\react\\\\RateCourses\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Button,Modal,TextArea,Form}from'semantic-ui-react';import Input from\"./Input\";import\"./Edit.css\";import axios from\"axios\";import Forms from\"./Form\";var validator=require(\"email-validator\");var swearjar=require('swearjar-extended');var ModalExampleCloseConfig=/*#__PURE__*/function(_Component){_inherits(ModalExampleCloseConfig,_Component);var _super=_createSuper(ModalExampleCloseConfig);function ModalExampleCloseConfig(){var _this;_classCallCheck(this,ModalExampleCloseConfig);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={open:false,message:false,code:\"\",id:_this.props.id,error:0,send:false};_this.SendEmail=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,templateId;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/findid',{params:{courseTitle:_this.props.Title,id:_this.state.id}});case 2:res=_context.sent;console.log(\"email would have sent\");templateId='template_swHMraBb';_this.sendFeedback(templateId,{message_html:_this.state.id,from_name:\"David\",reply_to:res.data});_this.setState({sent:true});// Here you need to send some kind of message, so that it says \"email sent sucessfully\"\ncase 7:case\"end\":return _context.stop();}}},_callee);}));_this.codeChange=function(codeType){_this.setState({code:codeType});};_this.closeConfigShow=function(closeOnEscape,closeOnDimmerClick){return function(){_this.setState({closeOnEscape:closeOnEscape,closeOnDimmerClick:closeOnDimmerClick,open:true});};};_this.ResetProfanity=function(){_this.setState({Profanity:false});};_this.close=function(){return _this.setState({open:false,message:false,error:0});};_this.Submitclose=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(_this.state.code==_this.props.id)){_context2.next=9;break;}_this.setState({message:true});// Here is where you want to send a respond\n_context2.next=4;return axios.get('/delete',{params:{courseTitle:_this.props.Title,id:_this.state.id}});case 4:res=_context2.sent;console.log(res);_this.props.deleted();_context2.next=10;break;case 9:// Here you need to add logic to make it display some kind of error\n_this.setState({error:1});case 10:case\"end\":return _context2.stop();}}},_callee2);}));_this.renderButton=function(){if(_this.state.message){// This is when the person put thir code, and it works, we dont need a button here\nreturn/*#__PURE__*/React.createElement(\"div\",null);}if(!_this.state.message){return/*#__PURE__*/React.createElement(Modal.Actions,null,/*#__PURE__*/React.createElement(\"center\",null,/*#__PURE__*/React.createElement(Button,{onClick:_this.Submitclose,positive:true,id:\"SWAG\",labelPosition:\"right\",icon:\"checkmark\",content:\"Submit\"}),/*#__PURE__*/React.createElement(Button,{onClick:_this.SendEmail,yellow:true,id:\"SWAG\",labelPosition:\"right\",icon:\"question circle outline\",content:\"Forgot Code?\"})));}};_this.renderModal=function(){if(_this.state.message){return/*#__PURE__*/React.createElement(Modal.Content,null,/*#__PURE__*/React.createElement(Modal.Content,null,\"Your post has been deleted\"));}if(_this.state.open){return/*#__PURE__*/React.createElement(Modal.Content,null,/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(\"center\",null,/*#__PURE__*/React.createElement(Input,{error:_this.state.error,codeChange:_this.codeChange}))));}};return _this;}_createClass(ModalExampleCloseConfig,[{key:\"render\",value:function render(){var _this$state=this.state,open=_this$state.open,closeOnEscape=_this$state.closeOnEscape,closeOnDimmerClick=_this$state.closeOnDimmerClick;if(this.props.on==true){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"i\",{onClick:this.closeConfigShow(false,true),class:\"  large trash alternate outline icon large\"}),/*#__PURE__*/React.createElement(Modal,{className:\"edit\",open:open,closeOnEscape:closeOnEscape,closeOnDimmerClick:closeOnDimmerClick,onClose:this.close},/*#__PURE__*/React.createElement(Modal.Header,null,\"  \",/*#__PURE__*/React.createElement(\"center\",null,\" Delete Post: Provide Edit Code! \"),\" \"),this.renderModal(),this.renderButton()));}return/*#__PURE__*/React.createElement(\"i\",{class:\" large trash alternate icon large  \"});}}]);return ModalExampleCloseConfig;}(Component);export default ModalExampleCloseConfig;","map":{"version":3,"sources":["C:/Users/david/react/RateCourses/client/src/Components/Delete.js"],"names":["React","Component","Button","Modal","TextArea","Form","Input","axios","Forms","validator","require","swearjar","ModalExampleCloseConfig","state","open","message","code","id","props","error","send","SendEmail","get","params","courseTitle","Title","res","console","log","templateId","sendFeedback","message_html","from_name","reply_to","data","setState","sent","codeChange","codeType","closeConfigShow","closeOnEscape","closeOnDimmerClick","ResetProfanity","Profanity","close","Submitclose","deleted","renderButton","renderModal","on"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Button, Modal, TextArea, Form } from 'semantic-ui-react'\r\nimport Input from \"./Input\"\r\nimport \"./Edit.css\";\r\nimport axios from \"axios\"\r\nimport Forms from \"./Form\"\r\nvar validator = require(\"email-validator\");\r\nvar swearjar = require('swearjar-extended');\r\n\r\nclass ModalExampleCloseConfig extends Component {\r\n  state = { \r\n      open: false,\r\n      message:false,\r\n      code:\"\",\r\n      id:this.props.id,\r\n      error:0, \r\n      send: false, \r\n\r\n\r\n}\r\n\r\n\r\nSendEmail = async () => {\r\n  \r\n \r\n  \r\n    let res = await axios.get('/findid', {\r\n      params: {\r\n        courseTitle: this.props.Title,\r\n        id:this.state.id\r\n    }});\r\n\r\n    console.log(\"email would have sent\")\r\n    const templateId = 'template_swHMraBb';\r\n    this.sendFeedback(templateId, {message_html: this.state.id, from_name: \"David\", reply_to: res.data})\r\n\r\n    this.setState({sent:true})\r\n    // Here you need to send some kind of message, so that it says \"email sent sucessfully\"\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  codeChange  = (codeType) =>{\r\n\r\n    this.setState({code:codeType})\r\n\r\n  } \r\n\r\n  closeConfigShow = (closeOnEscape, closeOnDimmerClick) => () => {\r\n    this.setState({ closeOnEscape, closeOnDimmerClick, open: true })\r\n  }\r\n\r\n  ResetProfanity = () =>{\r\n\r\n    this.setState({Profanity:false})\r\n\r\n  }\r\n\r\n  close = () => this.setState({ open: false, message:false, error:0})\r\n  Submitclose =  async () => {\r\n  \r\n \r\n        if(this.state.code == this.props.id){\r\n        this.setState({ message:true })\r\n        // Here is where you want to send a respond\r\n        \r\n        let res = await axios.get('/delete', {\r\n            params: {\r\n              courseTitle: this.props.Title,\r\n              id:this.state.id\r\n          }});\r\n          console.log(res)\r\n          this.props.deleted();\r\n        \r\n         \r\n\r\n\r\n        }else{\r\n\r\n            // Here you need to add logic to make it display some kind of error\r\n            this.setState({error:1})\r\n        }\r\n  }\r\n\r\n  renderButton=()=>{\r\n\r\n    if(this.state.message){\r\n        // This is when the person put thir code, and it works, we dont need a button here\r\n        return(\r\n            <div></div>\r\n        );\r\n      \r\n\r\n    }\r\n\r\n    if(!this.state.message){\r\n        return(\r\n        <Modal.Actions>\r\n        <center>\r\n        <Button\r\n        onClick={this.Submitclose}\r\n        positive\r\n        id=\"SWAG\"\r\n        labelPosition='right'\r\n        icon='checkmark'\r\n        content='Submit'\r\n        />\r\n    \r\n    <Button\r\n        onClick={this.SendEmail}\r\n        yellow\r\n        id=\"SWAG\"\r\n        labelPosition='right'\r\n        icon='question circle outline'\r\n        content='Forgot Code?'\r\n        />\r\n </center> \r\n  \r\n\r\n\r\n    </Modal.Actions>\r\n        );\r\n    }\r\n\r\n    \r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  renderModal =  () =>{\r\n\r\n\r\n\r\n    if(this.state.message){\r\n\r\n     \r\n\r\n      return(\r\n\r\n\r\n            <Modal.Content>\r\n                    <Modal.Content>\r\n\r\n                    Your post has been deleted \r\n\r\n                    </Modal.Content>\r\n            </Modal.Content>\r\n    \r\n    \r\n        );\r\n\r\n    }\r\n\r\n\r\n\r\n    if(this.state.open){\r\n    return(\r\n\r\n        <Modal.Content>\r\n\r\n        <Form>\r\n\r\n        <center>\r\n        <Input  error={this.state.error } codeChange={this.codeChange}/>\r\n        </center>\r\n       \r\n\r\n        </Form>\r\n\r\n        </Modal.Content>\r\n\r\n\r\n\r\n    );\r\n    }\r\n\r\n   \r\n\r\n  }\r\n\r\n  render() {\r\n    const { open, closeOnEscape, closeOnDimmerClick } = this.state\r\n\r\n    \r\n\r\n\r\n\r\n    if(this.props.on == true){\r\n\r\n\r\n\r\n    return(\r\n\r\n                <div>\r\n                    <i onClick={this.closeConfigShow(false, true)}   class=\"  large trash alternate outline icon large\"></i>\r\n                \r\n                    <Modal className=\"edit\"\r\n                    open={open}\r\n                    closeOnEscape={closeOnEscape}\r\n                    closeOnDimmerClick={closeOnDimmerClick}\r\n                    onClose={this.close}\r\n                    >\r\n                    <Modal.Header>  <center> Delete Post: Provide Edit Code! </center> </Modal.Header>\r\n                   {this.renderModal()}\r\n                \r\n                   {this.renderButton()}\r\n\r\n                    </Modal>\r\n\r\n                </div>\r\n                );\r\n            }\r\n\r\n                return(\r\n\r\n                   \r\n                    \r\n      <i class=\" large trash alternate icon large  \"></i>\r\n                );\r\n  }\r\n}\r\n\r\nexport default ModalExampleCloseConfig\r\n"]},"metadata":{},"sourceType":"module"}